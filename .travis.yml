sudo: required
language: python
python:
  - "3.6"
services:
  - mysql
  - docker
before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -y libblas-dev liblapack-dev libatlas-dev gfortran
  - sudo apt-get install -y graphviz graphviz-dev pkg-config
  - mysql -e "create user 'datajoint'@'%' identified by 'datajoint'; GRANT ALL PRIVILEGES ON \`djtest\_%\`.* TO 'datajoint'@'%';" -uroot
  - mysql -e "create user 'djview'@'%' identified by 'djview'; GRANT SELECT ON \`djtest\_%\`.* TO 'djview'@'%';" -uroot
install:
  - pip install nose nose-cov python-coveralls
# command to run tests
script:
  - pytest